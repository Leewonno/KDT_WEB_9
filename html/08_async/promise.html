<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    <script>
        // // promise 개념
        // function promise1(flag){
        //     return new Promise( function(resolve, reject){
        //         if(flag){
        //             resolve(`promise 상태는 fulfulled, then으로 연결됩니다. 이때의 flag가 true`);
        //         }
        //         else{
        //             reject(`promise 상태는 rejected! catch로 연결됩니다. 이때의 flag가 flase`);
        //         }
        //     })
        // }


        // // promise 사용
        // promise1(true).then((result)=>{
        //     console.log(result);
        // }).catch((err)=>{
        //     console.log(err);
        // })





        function goMart(){
            console.log("마트에 가서 어떤 음료를 살지 고민한다.");
        }

        function pickDrink(){
            return new Promise((resolve, reject)=>{
                setTimeout(()=>{
                    console.log("고민 끝");
                    product = "콜라";
                    price = 2000;
                    // 매개변수를 하나밖에 보내지 못하므로 객체형태로 한번에 보내준다.
                    resolve({pro:product, pri:price});
                }, 2000)
            })
        }

        function pay(temp){
            console.log(`상품명 : ${temp.pro}, 가격 : ${temp.pri}`);
        }

        // let product;
        // let price;
        goMart();
        pickDrink().then((pr, pi)=>{
            pay(pr, pi);
        }).catch((err)=>{
            console.log(err);
        })





        // async / await 실습

        // let product;
        // let price;

        // function goMart(){
        //     console.log("마트에 가서 어떤 음료를 살지 고민한다.");
        // }

        // function pickDrink(){
        //     return new Promise((resolve, reject)=>{
        //         setTimeout(()=>{
        //             console.log("고민 끝");
        //             product = "콜라";
        //             price = 2000;
        //             resolve();
        //         }, 2000)
        //     })
        // }

        // function pay(){
        //     console.log(`상품명 : ${product}, 가격 : ${price}`);
        // }

        // // goMart();
        // async function exec(){
        //     goMart();
        //     await pickDrink();
        //     pay();
        // }

        // exec();
    </script>
</body>
</html>